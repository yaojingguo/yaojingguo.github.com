---
layout: post
title: "macOS"
description: ""
category:
tags: []
---
{% include JB/setup %}

## setup
SageMath: use `.dmg` instead of `app.dmg`

```
brew install nginx --with-gunzip
brew install bash
brew install tree
brew install cmake
brew install ag
brew install ack
brew install cscope
brew install ctags
brew install nmap
brew install moreutils
brew install python3
brew install postgres
brew install ruby
brew install node

brew cask install java
brew cask install mactex
```

```
➜  github brew install --HEAD valgrind
Updating Homebrew...
==> Cloning https://sourceware.org/git/valgrind.git
Cloning into '/Users/jing/Library/Caches/Homebrew/valgrind--git'...
==> Checking out branch master
==> ./autogen.sh
==> ./configure --prefix=/usr/local/Cellar/valgrind/HEAD-f19a956 --enable-only64bit --build=amd64-darwin
==> make
==> make install
🍺  /usr/local/Cellar/valgrind/HEAD-f19a956: 280 files, 32.3MB, built in 15 minutes 44 seconds
```

```
"Docker for Mac" from www.docker.com.
OmniGraffle
Acrobat Reader
Chrome Browser
SketchBook
MS Office
Atom
iTerm2
Dropbox
MacVim
Eclipse
Beyond Compare
QQ
Weixin
Shadowsocks
Proxifier
Baidu Pan
```

## Java
After using `brew cask install java` to install Java, Java updater will update Java. But Java updater will only update Java in
`/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin` whose version can be checked with `System Preferences->Java Control Panel`. It will
not touch Java in `/Library/Java/JavaVirtualMachines`.

## Video Player
- [Mac 上好用的视频播放器有哪些？](https://www.zhihu.com/question/19552878)
- [IINA](https://lhc70000.github.io/iina/)
Movist is a good commercial video player.

## Redis
`brew install redis`:
```
==> Pouring redis-4.0.8.high_sierra.bottle.tar.gz
==> Caveats
To have launchd start redis now and restart at login:
  brew services start redis
Or, if you don't want/need a background service you can just run:
  redis-server /usr/local/etc/redis.conf
==> Summary
🍺  /usr/local/Cellar/redis/4.0.8: 13 files, 2.8MB
```

## MySQL
Start MySQL without make it automatic start.
```
mysql.server start
```

## iTerm2
- [Zsh not recognizing ls colors](https://superuser.com/questions/700406/zsh-not-recognizing-ls-colors)
- [lscolors](https://geoff.greer.fm/lscolors/)
- [What is your favorite oh-my-zsh theme?](https://www.quora.com/What-is-your-favorite-oh-my-zsh-theme)

## OpenSSL
`which openssl` produces:
```
/usr/bin/openssl
```

`openssl version -a` produces:
```
LibreSSL 2.2.7
built on: date not available
platform: information not available
options:  bn(64,64) rc4(ptr,int) des(idx,cisc,16,int) blowfish(idx)
compiler: information not available
OPENSSLDIR: "/private/etc/ssl"
```

`brew upgrade openssl` produces:

```
==> Caveats
A CA file has been bootstrapped using certificates from the SystemRoots
keychain. To add additional certificates (e.g. the certificates added in
the System keychain), place .pem files in
  /usr/local/etc/openssl/certs

and run
  /usr/local/opt/openssl/bin/c_rehash

This formula is keg-only, which means it was not symlinked into /usr/local,
because Apple has deprecated use of OpenSSL in favor of its own TLS and crypto libraries.

If you need to have this software first in your PATH run:
  echo 'export PATH="/usr/local/opt/openssl/bin:$PATH"' >> ~/.zshrc

For compilers to find this software you may need to set:
    LDFLAGS:  -L/usr/local/opt/openssl/lib
    CPPFLAGS: -I/usr/local/opt/openssl/include
For pkg-config to find this software you may need to set:
    PKG_CONFIG_PATH: /usr/local/opt/openssl/lib/pkgconfig

==> Summary
🍺  /usr/local/Cellar/openssl/1.0.2o_1: 1,791 files, 12.3MB
```

Adding `export PATH="/usr/local/opt/openssl/bin:$PATH"` makes `which openssl`
produce `/usr/local/opt/openssl/bin/openssl` and makes `man openssl` work.

## 一支红杏
It seems that `ssh` command honours `ShadowsocksX`'s global mode. But `go get`
and `dep` does not honour global mode.
